<!DOCTYPE html> 
<html lang="en">
<head>
<title>GTK+ widgets II</title>
<link rel="stylesheet" href="/cfg/style.css" type="text/css">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="GUI, GTK+ widgets, GtkComboBox, GtkHSeparator, GtkVSeparator,
GtkStatusbar, GtkIconView, GtkImage, GtkEntry, GTK+ library, C">
<meta name="description" content="In this part of the GTK+ tutorial, we continue 
covering GTK+ widgets. We mention GktComboBoxText, GtkHSeparator, GtkEntry, GtkEntry, 
GtkStatusbar, and GtkIconView.">
<meta name="author" content="Jan Bodnar">

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5536206-1', 'auto');
  ga('send', 'pageview');

</script>

</head>

<body>

<header>

<div>
<a href="/" title="Home">ZetCode</a>
</div>

<nav>
    <a title="All tutorials" href="/all/">All</a>
    <a title="Spring Boot tutorials" href="/all/#springboot">Spring Boot</a>
    <a title="Python tutorials" href="/all/#python">Python</a>
    <a title="C# tutorials" href="/all/#csharp">C#</a>
    <a title="Java tutorials" href="/all/#java">Java</a>
    <a title="JavaScript tutorials" href="/all/#js">JavaScript</a>
    <a title="Subscribe to ZetCode news" href="http://zetcode.us13.list-manage.com/subscribe?u=9def9ccd4c70dbbaf691f90fc&id=6556210f80">Subscribe</a>
</nav>

</header>

<div class="container">

<div class="ltow">
    
<div id="ebooks">

<h2 class="blu">Ebooks</h2>

<ul>
<li><a href="/ebooks/advancedpyqt5/">PyQt5 ebook</a></li>
<li><a href="/ebooks/tkinter/">Tkinter ebook</a></li>
<li><a href="/ebooks/sqlitepython/">SQLite Python</a></li>
<li><a href="/ebooks/advancedwxpython/">wxPython ebook</a></li>
<li><a href="/ebooks/windowsapi/">Windows API ebook</a></li>
<li><a href="/ebooks/advancedjavaswing/">Java Swing ebook</a></li>
<li><a href="/ebooks/javagames/">Java games ebook</a></li>
<li><a href="/ebooks/mysqljava/">MySQL Java ebook</a></li>
</ul>

</div>

</div>


<div class="content">


<nav>
<a href="..">Contents</a>
<a href="../gtkwidgets/">Previous</a>
<a href="../gtktreeview/">Next</a>
</nav>


<h1>GTK+ Widgets II</h1>

<p class="last_mod">
last modified July 16, 2020 
</p>

<p>
In this part of the GTK+ programming tutorial, we continue covering 
various GTK+ widgets. 
</p>

<div class="ad-top square-fix-ad">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- square-fixed-2020 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-9706709751191532"
     data-ad-slot="6775384732"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>


<h2>GktComboBoxText</h2>

<p>
<code>GktComboBoxText</code> is a widget that allows the user to choose 
from a list of options. The options are strings.
</p>

<div class="codehead">combobox.c</div>
<pre class="code">
#include &lt;gtk/gtk.h&gt;

void combo_selected(GtkWidget *widget, gpointer window) {
     
  gchar *text = gtk_combo_box_get_active_text(GTK_COMBO_BOX(widget));
  gtk_label_set_text(GTK_LABEL(window), text);
  g_free(text);
}

int main(int argc, char *argv[]) {
    
  GtkWidget *window;
  GtkWidget *hbox;
  GtkWidget *vbox;
  GtkWidget *combo;
  GtkWidget *label;

  gtk_init(&amp;argc, &amp;argv);

  window = gtk_window_new(GTK_WINDOW_TOPLEVEL);
  gtk_window_set_title(GTK_WINDOW(window), "GtkComboBox");
  gtk_window_set_position(GTK_WINDOW(window), GTK_WIN_POS_CENTER);
  gtk_container_set_border_width(GTK_CONTAINER(window), 15);
  gtk_window_set_default_size(GTK_WINDOW(window), 300, 200);
  
  hbox = gtk_hbox_new(FALSE, 0);
  vbox = gtk_vbox_new(FALSE, 15);

  combo = gtk_combo_box_new_text();
  gtk_combo_box_append_text(GTK_COMBO_BOX(combo), "Ubuntu");
  gtk_combo_box_append_text(GTK_COMBO_BOX(combo), "Arch");
  gtk_combo_box_append_text(GTK_COMBO_BOX(combo), "Fedora");
  gtk_combo_box_append_text(GTK_COMBO_BOX(combo), "Mint");
  gtk_combo_box_append_text(GTK_COMBO_BOX(combo), "Gentoo");
  gtk_combo_box_append_text(GTK_COMBO_BOX(combo), "Debian");

  gtk_box_pack_start(GTK_BOX(vbox), combo, FALSE, FALSE, 0);

  label = gtk_label_new("...");
  gtk_box_pack_start(GTK_BOX(vbox), label, FALSE, FALSE, 0);
  
  gtk_box_pack_start(GTK_BOX(hbox), vbox, FALSE, FALSE, 0);
  gtk_container_add(GTK_CONTAINER(window), hbox);

  g_signal_connect(G_OBJECT(window), "destroy",
        G_CALLBACK(gtk_main_quit), NULL);

  g_signal_connect(G_OBJECT(combo), "changed", 
        G_CALLBACK(combo_selected), (gpointer) label);

  gtk_widget_show_all(window);

  gtk_main();

  return 0;
}
</pre>

<p>
The example shows a combo box and a label. The combo box has a list of six 
options. These are the names of Linux distros.
The label widget shows the selected option from the combo box.  
</p>

<pre class="explanation">
combo = gtk_combo_box_text_new();
</pre>

<p>
The <code>gtk_combo_box_text_new()</code> function creates a simple text-only
combo box.
</p>

<pre class="explanation">
gtk_combo_box_append_text(GTK_COMBO_BOX(combo), "Ubuntu");
</pre>

<p>
The <code>gtk_combo_box_text_append_text()</code> function appends a string 
to the list of strings stored in the combo box. 
</p>

<pre class="explanation">
label = gtk_label_new("-");
</pre>

<p>
A new label widget is created.
</p>

<pre class="explanation">
gchar *text =  gtk_combo_box_get_active_text(GTK_COMBO_BOX(widget));
gtk_label_set_text(GTK_LABEL(window), text);
g_free(text);
</pre>

<p>
We get the selected text and set the label text to it. 
The <code>gtk_combo_box_get_active_text()</code> function returns the 
currently active string in the combo box. We set the string to the label with 
the <code>gtk_label_set_text()</code> function.
</p>

<figure>
<img src="/img/gui/cgtk/gtkcomboboxtext.png" alt="GktComboBoxText">
<figcaption>Figure: GktComboBoxText</figcaption>
</figure>


<h2>GtkHSeparator</h2>

<p>
The <code>GtkHSeparator</code> is a horizontal separator. 
It is a kind of an ornament widget. There is also a sister 
<code>GtkVSeparator</code> widget. 
</p>

<div class="codehead">separator.c</div>
<pre class="code">
#include &lt;gtk/gtk.h&gt;

int main(int argc, char *argv[]) {

  GtkWidget *window;
  GtkWidget *label1;
  GtkWidget *label2;
  GtkWidget *hseparator;
  GtkWidget *vbox;

  gtk_init(&amp;argc, &amp;argv);

  window = gtk_window_new(GTK_WINDOW_TOPLEVEL);
  gtk_window_set_position(GTK_WINDOW(window), GTK_WIN_POS_CENTER);
  gtk_window_set_title(GTK_WINDOW(window), "GtkHSeparator");
  gtk_window_set_resizable(GTK_WINDOW(window), FALSE);

  gtk_container_set_border_width(GTK_CONTAINER(window), 10);

  label1 = gtk_label_new("Zinc is a moderately reactive, blue gray metal \
that tarnishes in moist air and burns in air with a bright bluish-green flame,\
giving off fumes of zinc oxide. It reacts with acids, alkalis and other non-metals.\
If not completely pure, zinc reacts with dilute acids to release hydrogen.");

  gtk_label_set_line_wrap(GTK_LABEL(label1), TRUE);

  label2 = gtk_label_new("Copper is an essential trace nutrient to all high \
plants and animals. In animals, including humans, it is found primarily in \
the bloodstream, as a co-factor in various enzymes, and in copper-based pigments. \
However, in sufficient amounts, copper can be poisonous and even fatal to organisms.");

  gtk_label_set_line_wrap(GTK_LABEL(label2), TRUE);

  vbox = gtk_vbox_new(FALSE, 10);
  gtk_container_add(GTK_CONTAINER(window), vbox);

  hseparator = gtk_hseparator_new();

  gtk_box_pack_start(GTK_BOX(vbox), label1, FALSE, TRUE, 0);
  gtk_box_pack_start(GTK_BOX(vbox), hseparator, FALSE, TRUE, 10);
  gtk_box_pack_start(GTK_BOX(vbox), label2, FALSE, TRUE, 0);

  g_signal_connect_swapped(G_OBJECT(window), "destroy",
        G_CALLBACK(gtk_main_quit), G_OBJECT(window));

  gtk_widget_show_all(window);

  gtk_main();

  return 0;
}
</pre>

<p>
The code example shows definitions of two chemical elements; they are 
separated by a horizontal separator. This makes the example more visually appealing.
</p>

<pre class="explanation">
   label1 = gtk_label_new("Zinc is a moderately reactive, blue gray metal \
that tarnishes in moist air and burns in air with a bright bluish-green flame,\
giving off fumes of zinc oxide. It reacts with acids, alkalis and other non-metals.\
If not completely pure, zinc reacts with dilute acids to release hydrogen.");
</pre>

<p>
We create the first label, the definition of the Zinc element. 
</p>

<pre class="explanation">
gtk_label_set_line_wrap(GTK_LABEL(label2), TRUE);
</pre>

<p>
The <code>gtk_label_set_line_wrap()</code> function break lines if text exceeds 
the widget's size.
</p>

<pre class="explanation">
hseparator = gtk_hseparator_new();
</pre>

<p>
The <code>gtk_hseparator_new()</code> creates a new <code>GtkHSeparator</code>.
</p>

<pre class="explanation">
gtk_box_pack_start(GTK_BOX(vbox), label1, FALSE, TRUE, 0);
gtk_box_pack_start(GTK_BOX(vbox), hseparator, FALSE, TRUE, 10);
gtk_box_pack_start(GTK_BOX(vbox), label2, FALSE, TRUE, 0);
</pre>

<p>
We place the separator between the labels. 
</p>

<figure>
<img src="/img/gui/cgtk/separator.png" alt="GtkHSeparator">
<figcaption>Figure: GtkHSeparator</figcaption>
</figure>


<h2>GtkEntry</h2>

<p>
<code>GtkEntry</code> is a single line text entry field. 
This widget is used to enter textual data. 
</p>

<div class="codehead">entry.c</div>
<pre class="code">
#include &lt;gtk/gtk.h&gt;

int main(int argc, char *argv[]) {

  GtkWidget *window;
  GtkWidget *table;

  GtkWidget *label1;
  GtkWidget *label2;
  GtkWidget *label3;

  GtkWidget *entry1;
  GtkWidget *entry2;
  GtkWidget *entry3;

  gtk_init(&amp;argc, &amp;argv);

  window = gtk_window_new(GTK_WINDOW_TOPLEVEL);
  gtk_window_set_position(GTK_WINDOW(window), GTK_WIN_POS_CENTER);
  gtk_window_set_title(GTK_WINDOW(window), "GtkEntry");
  gtk_container_set_border_width(GTK_CONTAINER(window), 10);

  table = gtk_table_new(3, 2, FALSE);
  gtk_container_add(GTK_CONTAINER(window), table);

  label1 = gtk_label_new("Name");
  label2 = gtk_label_new("Age");
  label3 = gtk_label_new("Occupation");

  gtk_table_attach(GTK_TABLE(table), label1, 0, 1, 0, 1, 
      GTK_FILL | GTK_SHRINK, GTK_FILL | GTK_SHRINK, 5, 5);
  gtk_table_attach(GTK_TABLE(table), label2, 0, 1, 1, 2, 
      GTK_FILL | GTK_SHRINK, GTK_FILL | GTK_SHRINK, 5, 5);
  gtk_table_attach(GTK_TABLE(table), label3, 0, 1, 2, 3, 
      GTK_FILL | GTK_SHRINK, GTK_FILL | GTK_SHRINK, 5, 5);

  entry1 = gtk_entry_new();
  entry2 = gtk_entry_new();
  entry3 = gtk_entry_new();

  gtk_table_attach(GTK_TABLE(table), entry1, 1, 2, 0, 1, 
      GTK_FILL | GTK_SHRINK, GTK_FILL | GTK_SHRINK, 5, 5);
  gtk_table_attach(GTK_TABLE(table), entry2, 1, 2, 1, 2, 
      GTK_FILL | GTK_SHRINK, GTK_FILL | GTK_SHRINK, 5, 5);
  gtk_table_attach(GTK_TABLE(table), entry3, 1, 2, 2, 3, 
      GTK_FILL | GTK_SHRINK, GTK_FILL | GTK_SHRINK, 5, 5);

  gtk_widget_show_all(window);

  g_signal_connect(window, "destroy",
      G_CALLBACK(gtk_main_quit), NULL);

  gtk_main();

  return 0;
}
</pre>

<p>
In our example we show three text entries and three labels.
</p>

<pre class="explanation">
table = gtk_table_new(3, 2, FALSE);
gtk_container_add(GTK_CONTAINER(window), table);
</pre>

<p>
To organise our widgets, we use the table container widget. 
</p>

<pre class="explanation">
entry1 = gtk_entry_new();
</pre>

<p>
The <code>gtk_entry_new()</code> function creates a new <code>GtkEntry</code>.
</p>

<pre class="explanation">
gtk_table_attach(GTK_TABLE(table), entry1, 1, 2, 0, 1, 
    GTK_FILL | GTK_SHRINK, GTK_FILL | GTK_SHRINK, 5, 5);
gtk_table_attach(GTK_TABLE(table), entry2, 1, 2, 1, 2, 
    GTK_FILL | GTK_SHRINK, GTK_FILL | GTK_SHRINK, 5, 5);
gtk_table_attach(GTK_TABLE(table), entry3, 1, 2, 2, 3, 
    GTK_FILL | GTK_SHRINK, GTK_FILL | GTK_SHRINK, 5, 5);
</pre>

<p>
We attach the widgets to the table widget. 
</p>

<figure>
<img src="/img/gui/cgtk/gtkentry.png" alt="GtkEntry">
<figcaption>Figure: GtkEntry</figcaption>
</figure>

<div class="ad-mid square-fix-ad">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- square-fixed-2020 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-9706709751191532"
     data-ad-slot="6775384732"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>


<h2>GtkImage</h2>

<p>
<code>GtkImage</code> is a widget used to display an image. 
</p>

<div class="codehead">image.c</div>
<pre class="code">
#include &lt;gtk/gtk.h&gt;

int main(int argc, char *argv[]) {
    
  GtkWidget *window;
  GtkWidget *image;

  gtk_init(&amp;argc, &amp;argv);

  window = gtk_window_new(GTK_WINDOW_TOPLEVEL);
  gtk_window_set_position(GTK_WINDOW(window), GTK_WIN_POS_CENTER);
  gtk_window_set_title(GTK_WINDOW(window), "Red Rock");

  image = gtk_image_new_from_file("redrock.jpg");
 
  gtk_container_add(GTK_CONTAINER(window), image);

  g_signal_connect(G_OBJECT(window), "destroy",
        G_CALLBACK(gtk_main_quit), NULL);

  gtk_widget_show_all(window);

  gtk_main();

  return 0;
}
</pre>

<p>
In our example we show an image of a castle. 
</p>

<pre class="explanation">
image = gtk_image_new_from_file("redrock.png");
</pre>

<p>
The <code>gtk_image_new_from_file()</code> creates a new <code>GtkImage</code> from the 
specified filename . If the file is not found or cannot be loaded, the resulting 
<code>GtkImage</code> displays a "broken image" icon.
</p>

<pre class="explanation">
gtk_container_add(GTK_CONTAINER(window), image);
</pre>

<p>
The image is added to the window container.
</p>


<h2>GtkStatusbar</h2>

<p>
<code>GtkStatusbar</code> displays status information. 
It is placed at the bottom of the application window. 
</p>

<div class="codehead">statusbar.c</div>
<pre class="code">
#include &lt;gtk/gtk.h&gt;

void button_pressed(GtkWidget *widget, gpointer window) {
    
   gchar *str;
   str = g_strdup_printf("%s button clicked", 
         gtk_button_get_label(GTK_BUTTON(widget)));

   gtk_statusbar_push(GTK_STATUSBAR(window),
         gtk_statusbar_get_context_id(GTK_STATUSBAR(window), str), str);
   g_free(str);
}

int main(int argc, char *argv[]) {

  GtkWidget *window;
  GtkWidget *hbox;
  GtkWidget *vbox;
  GtkWidget *halign;
  GtkWidget *balign;
  GtkWidget *button1;
  GtkWidget *button2;
  GtkWidget *statusbar;

  gtk_init(&amp;argc, &amp;argv);

  window = gtk_window_new(GTK_WINDOW_TOPLEVEL);
  gtk_window_set_position(GTK_WINDOW(window), GTK_WIN_POS_CENTER);
  gtk_window_set_default_size(GTK_WINDOW(window), 300, 200);
  gtk_window_set_title(GTK_WINDOW(window), "GtkStatusbar");

  vbox = gtk_vbox_new(FALSE, 0);

  hbox = gtk_hbox_new(FALSE, 0);
  gtk_container_add(GTK_CONTAINER(window), vbox);

  halign = gtk_alignment_new(0, 0, 0, 0);
  gtk_container_add(GTK_CONTAINER(halign), hbox);
  gtk_box_pack_start(GTK_BOX(vbox), halign, TRUE, TRUE, 5);

  button1 = gtk_button_new_with_label("OK");
  gtk_widget_set_size_request(button1, 70, 30 );
  button2 = gtk_button_new_with_label("Apply");
  gtk_widget_set_size_request(button2, 70, 30 );

  gtk_box_pack_start(GTK_BOX(hbox), button1, FALSE, FALSE, 5);
  gtk_box_pack_start(GTK_BOX(hbox), button2, FALSE, FALSE, 0);

  balign = gtk_alignment_new(0, 1, 1, 0);
  statusbar = gtk_statusbar_new();
  gtk_container_add(GTK_CONTAINER(balign), statusbar);
  gtk_box_pack_start(GTK_BOX(vbox), balign, FALSE, FALSE, 0);

  g_signal_connect(G_OBJECT(button1), "clicked", 
           G_CALLBACK(button_pressed), G_OBJECT(statusbar));

  g_signal_connect(G_OBJECT(button2), "clicked", 
           G_CALLBACK(button_pressed), G_OBJECT(statusbar));

  g_signal_connect(G_OBJECT(window), "destroy",
        G_CALLBACK(gtk_main_quit), NULL);

  gtk_widget_show_all(window);

  gtk_main();

  return 0;
}
</pre>

<p>
In the code example, there are two buttons and a statusbar. If we click 
on the button, a message is displayed in the statusbar. 
It says which button was pressed. 
</p>

<pre class="explanation">
gchar *str;
str = g_strdup_printf("Button %s clicked", 
      gtk_button_get_label(GTK_BUTTON(widget)));
</pre>

<p>
The message is built with the <code>g_strdup_printf()</code> function.
We get the label of the button with the <code>gtk_button_get_label()</code> function.
</p>

<pre class="explanation">
gtk_statusbar_push(GTK_STATUSBAR(window),
     gtk_statusbar_get_context_id(GTK_STATUSBAR(window), str), str);
</pre>

<p>
We show the message in the statusbar. The <code>gtk_statusbar_push()</code> function pushes a new 
message onto a statusbarâ€™s stack. The function requires a context id, which is returned
by the <code>gtk_statusbar_get_context_id()</code> function. 
</p>

<pre class="explanation">
statusbar = gtk_statusbar_new();
</pre>

<p>
The <code>gtk_statusbar_new()</code> function creates a new <code>GtkStatusbar</code> widget.
</p>

<figure>
<img src="/img/gui/cgtk/gtkstatusbar.png" alt="GtkStatusbar">
<figcaption>Figure: GtkStatusbar</figcaption>
</figure>


<h2>GtkIconView</h2>

<p>
<code>GtkIconView</code> is a widget which displays a list of icons in a grid.
It uses a <code>GtkListStore</code> to store its data.
</p>

<div class="codehead">iconview.c</div>
<pre class="code">
#include &lt;gtk/gtk.h&gt;
#include &lt;assert.h&gt;

enum {
    
  COL_DISPLAY_NAME,
  COL_PIXBUF,
  NUM_COLS
};

GtkTreeModel *init_model(void) {
    
  GtkListStore *list_store;
  GdkPixbuf *p1, *p2, *p3, *p4;
  GtkTreeIter iter;
  GError *err = NULL;

  p1 = gdk_pixbuf_new_from_file("ubuntu.png", &amp;err); 
  p2 = gdk_pixbuf_new_from_file("gnumeric.png", &amp;err);
  p3 = gdk_pixbuf_new_from_file("blender.png", &amp;err);
  p4 = gdk_pixbuf_new_from_file("inkscape.png", &amp;err);

  assert(err==NULL);    

  list_store = gtk_list_store_new(NUM_COLS, 
      G_TYPE_STRING, GDK_TYPE_PIXBUF);
      
  gtk_list_store_append(list_store, &amp;iter);
  gtk_list_store_set(list_store, &amp;iter, COL_DISPLAY_NAME, 
      "Ubuntu", COL_PIXBUF, p1, -1);
  gtk_list_store_append(list_store, &amp;iter);
  gtk_list_store_set(list_store, &amp;iter, COL_DISPLAY_NAME, 
      "Gnumeric", COL_PIXBUF, p2, -1);
  gtk_list_store_append(list_store, &amp;iter);
  gtk_list_store_set(list_store, &amp;iter, COL_DISPLAY_NAME, 
      "Blender", COL_PIXBUF, p3, -1);
  gtk_list_store_append(list_store, &amp;iter);
  gtk_list_store_set(list_store, &amp;iter, COL_DISPLAY_NAME, 
      "Inkscape", COL_PIXBUF, p4, -1);
  
  g_object_unref(p1);
  g_object_unref(p2);
  g_object_unref(p3);
  g_object_unref(p4);    

  return GTK_TREE_MODEL(list_store);
}

int main(int argc, char *argv[]) {
    
  GtkWidget *window;
  GtkWidget *icon_view;
  GtkWidget *sw;

  gtk_init(&amp;argc, &amp;argv);

  window = gtk_window_new(GTK_WINDOW_TOPLEVEL);

  gtk_window_set_title(GTK_WINDOW(window), "IconView");
  gtk_window_set_position(GTK_WINDOW(window), GTK_WIN_POS_CENTER);
  gtk_container_set_border_width(GTK_CONTAINER(window), 10);
  gtk_window_set_default_size(GTK_WINDOW(window), 350, 300);

  sw = gtk_scrolled_window_new(NULL, NULL);
  gtk_container_add(GTK_CONTAINER(window), sw);
  gtk_scrolled_window_set_policy(GTK_SCROLLED_WINDOW(sw),
      GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
  gtk_scrolled_window_set_shadow_type(GTK_SCROLLED_WINDOW(sw),
      GTK_SHADOW_IN);

  icon_view = gtk_icon_view_new_with_model(init_model());
  gtk_container_add(GTK_CONTAINER(sw), icon_view);
        
  gtk_icon_view_set_text_column(GTK_ICON_VIEW(icon_view),
      COL_DISPLAY_NAME);
  gtk_icon_view_set_pixbuf_column(GTK_ICON_VIEW(icon_view), COL_PIXBUF);
  gtk_icon_view_set_selection_mode(GTK_ICON_VIEW(icon_view), 
      GTK_SELECTION_MULTIPLE);

  g_signal_connect(window, "destroy", G_CALLBACK(gtk_main_quit), NULL);

  gtk_widget_show_all(window);
        
  gtk_main();
        
  return 0;
}
</pre>

<p>
The example displays 4 icons. The icons represent four prominent 
open source projects. 
</p>

<pre class="explanation">
p1 = gdk_pixbuf_new_from_file("ubuntu.png", &amp;err); 
p2 = gdk_pixbuf_new_from_file("gnumeric.png", &amp;err);
p3 = gdk_pixbuf_new_from_file("blender.png", &amp;err);
p4 = gdk_pixbuf_new_from_file("inkscape.png", &amp;err);
</pre>

<p>
We load four images from the disk using the <code>gdk_pixbuf_new_from_file()</code>
function.
</p>

<pre class="explanation">
list_store = gtk_list_store_new(NUM_COLS, 
    G_TYPE_STRING, GDK_TYPE_PIXBUF);
</pre>

<p>
The <code>gtk_list_store_new()</code> function creates a <code>GtkListStore</code>, which is a 
list model for the <code>GtkTreeView</code> and <code>GtkIconView</code> widgets. 
We store textual and pixbuf data. 
</p>

<pre class="explanation">
gtk_list_store_append(list_store, &amp;iter);
gtk_list_store_set(list_store, &amp;iter, COL_DISPLAY_NAME, 
    "ubuntu", COL_PIXBUF, p1, -1);
</pre>

<p>
This code adds a new row into the model.
</p>

<pre class="explanation">
icon_view = gtk_icon_view_new_with_model(init_model());
</pre>

<p>
The <code>gtk_icon_view_new_with_model()</code> creates a new 
<code>GtkIconView</code> widget with a <code>GtkTreeModel</code>.
</p>

<pre class="explanation">
gtk_container_add(GTK_CONTAINER(sw), icon_view);
</pre>

<p>
The <code>GtkIconView</code> is a container widget. We add 
it into the <code>GtkScrolledWindow</code>.
</p>

<pre class="explanation">
gtk_icon_view_set_text_column(GTK_ICON_VIEW(icon_view),
    COL_DISPLAY_NAME);
</pre>

<p>
The <code>gtk_icon_view_set_text_column()</code> function sets 
which column is a string column.
</p>

<pre class="explanation">
gtk_icon_view_set_pixbuf_column(GTK_ICON_VIEW(icon_view),
    COL_PIXBUF);
</pre>

<p>
The <code>gtk_icon_view_set_pixbuf_column()</code> function sets
which is the column with pixbufs.
</p>

<pre class="explanation">
gtk_icon_view_set_selection_mode(GTK_ICON_VIEW(icon_view), 
    GTK_SELECTION_MULTIPLE);
</pre>

<p>
The <code>gtk_icon_view_set_selection_mode()</code> sets the 
selection mode of the <code>GtkIconView</code>. Choosing the <code>GTK_SELECTION_MULTIPLE</code>
mode, it is possible to choose multiple icons.
</p>

<figure>
<img src="/img/gui/cgtk/iconview.png" alt="IconView">
<figcaption>Figure: IconView</figcaption>
</figure>

<p>
In this part of the GTK+ tutorial, we have continued covering GTK+ widgets.
</p>


<div class="ad-bot square-fix-ad">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- square-fixed-2020 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-9706709751191532"
     data-ad-slot="6775384732"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<nav>
<a href="..">Contents</a> 
<a href="../gtkwidgets/">Previous</a>
<a href="../gtktreeview/">Next</a>
</nav>



</div> <!-- content -->

<div class="rtow">

<div class="vert-ad">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- vertical-2020 -->
<ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-9706709751191532"
        data-ad-slot="5880603481"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
<script>
        (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div class="square-fix-ad ad-rtow">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- square-fixed-2020 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-9706709751191532"
     data-ad-slot="6775384732"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

</div> <!-- rtow -->

</div> <!-- container -->

<footer>

<nav>
<a title="Home page" href="/">Home</a> 
<a title="Follow on Facebook" href="https://www.facebook.com/zetcode7/">Facebook</a>
<a title="Follow on Twitter" href="https://twitter.com/janbodnar">Twitter</a>
<a title="Visit Github" href="https://github.com/janbodnar">Github</a>
<a title="Subscribe to ZetCode news" href="http://zetcode.us13.list-manage.com/subscribe?u=9def9ccd4c70dbbaf691f90fc&id=6556210f80">Subscribe</a>
<a title="Privacy policy" href="/privacy">Privacy</a> 
</nav>

<div>
<span>&copy; 2007 - 2021 Jan Bodnar</span>
<span>admin(at)zetcode.com</span>
</div>

</footer>

</body>
</html>


